This document contains the detailed requirements for the Voice to Action flow.

The following table outlines the detailed functional requirements of `voice2action` Dapr workflow.

| Requirement ID | Description                    | User Story                                                                                                                   | Expected Behavior/<br/>Outcome                                                                                                                                                                                                                                                                               |
| -------------- | ------------------------------ | ---------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| FR001          | Download new voice recordings. | I want new recordings to be downloaded from a OneDrive folder specified with an environment variable `ONEDRIVE_VOICE_INBOX`. | - only files that not yet have been downloaded shall be downloaded<br/>- the system shall poll automatically at an interval in seconds provided by an environment variable `ONEDRIVE_VOICE_POLL_INTERVAL`<br/>- for each recording file detected, a separate workflow instance is started to handle download |

The following table outlines the detailed technical requirements of `voice2action` Dapr workflow.

| Requirement ID | Description                          | User Story                                                                                                                                                                                                           | Expected Behavior/<br/>Outcome                     |
| -------------- | ------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------- |
| TR001          | Keep access token to MS Graph alive. | I expect that I provide the access token to MS Graph one time as environment variable `MS_GRAPH_TOKEN` or as local secret one time and that from the point on the token is refreshed before it expires automatically | - refresh token can be stored in local state store |
